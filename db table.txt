# file upload/download table

drop table file;
create table file(
	no int auto_increment PRIMARY KEY,
	originalName varchar(200),
	resultName varchar(200) default 0,
	password varchar(200),
	originalFileSize varchar(100),
	resultFileSize varchar(100) default 0,
	fileOption varchar(20)
);

DROP DATABASE center;
CREATE DATABASE center;
USE center;

create table USER(
	userID varchar(200) primary key,
	userPW varchar(200) not null,
	publicKey varchar(200)
);

create view VIEW_USER as select userID, publicKey from USER;

create table LOG(
	f_name varchar(200) primary key,
	real_name varchar(200) not null,
	location varchar(200) not null,
	last_update_time varchar(20) not null,
	last_read_line int not null default -1
);

create view VIEW_LOG as select f_name from LOG;

insert into center.USER(userID, userPW) values("user1", "Admin1!");
insert into center.USER(userID, userPW) values("user2", "Admin2!");

GRANT select ON center.VIEW_LOG TO user1@localhost;
GRANT select ON center.VIEW_LOG TO user2@localhost;
GRANT select ON center.VIEW_USER TO user1@localhost;
GRANT select ON center.VIEW_USER TO user2@localhost;

#database user1

use user1;
create table user1_BlockChain(
	f_name varchar(200) primary key,
	block_size int not null default 0
);
create table user1_RSAKey(
	publicKey varchar(200),
	privateKey varchar(200)
);


#database user2
use user2;
create table user2_BlockChain(
	f_name varchar(200) primary key,
	block_size int not null default 0
);
create table user2_RSAKey(
	publicKey varchar(200),
	privateKey varchar(200)
);


# java code
create table userID_local_access_0000(
	no int not null default 0,
	sign varchar(300) not null,
	content  text not null,
	state varchar(10)
);